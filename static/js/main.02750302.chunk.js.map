{"version":3,"sources":["component/Header/tmapLogo2.png","logo.svg","component/Header/wfpStandardLogo.svg","hooks/useWindowSize.js","container/constants.js","component/Header/index.js","container/SimpleContainer.js","container/InfoContainer.js","component/HealthInfo/HealthInfoArc.js","component/HealthInfo/constants.js","component/HealthInfo/steak.png","component/HealthInfo/HealthInfoViz.js","component/HealthInfo/HealthInfoText.js","component/HealthInfo/index.js","component/StarvationInfo/StarvationInfoText.js","hooks/useD3.js","component/StarvationInfo/constants.js","component/StarvationInfo/StarvationInfoChart.js","component/StarvationInfo/StarvationInfoVizController.js","component/StarvationInfo/StarvationInfoViz.js","component/StarvationInfo/index.js","component/CampaignInfo/CampaignInfoSlide.js","component/CampaignInfo/CampaignInfoSlider.js","component/CampaignInfo/cardNews1.png","component/CampaignInfo/cardNews2.png","component/CampaignInfo/cardNews3.png","component/CampaignInfo/cardNews4.png","component/CampaignInfo/cardNews5.png","component/CampaignInfo/index.js","component/ServiceInfo/ServiceInfoText.js","component/ServiceInfo/wfp-logo-emblem-white.svg","component/ServiceInfo/office.svg","component/ServiceInfo/ServiceInfoViz.js","component/ServiceInfo/index.js","container/Main.js","App.js","reportWebVitals.js","index.js"],"names":["useWindowSize","isClient","window","getSize","width","innerWidth","undefined","height","innerHeight","useState","windowSize","setWindowSize","useEffect","handleResize","addEventListener","removeEventListener","MIN_WINDOW_WIDTH_FOR_ROW_FLEX","MOBILE_WIDTH","Header","logoStyle","className","src","tmapLogo2","alt","style","wfpStandardLogo","SimpleContainer","backgroundColor","color","children","flex","flexDirection","InfoContainer","left","right","flexLeft","flexRight","HealthInfoArc","isNotMobile","data","index","createArc","colors","format","onClick","fontSize","onStart","onFinish","d","fill","opacity","transform","centroid","textAnchor","alignmentBaseline","fontWeight","label","value","HealthInfoViz","reactiveSize","dims","pieRadius","plateRadius","dataList","setDataList","createPie","d3","sort","innerRadius","outerRadius","margin","xlinkHref","steak","x","y","map","i","pieData","canIncrease","canDecrease","mealAmountObj","healthObj","HealthInfoText","textFontSize","titleFontSize","display","marginBottom","marginTop","HealthInfo","StarvationInfoText","useD3","renderChartFn","dependencies","ref","useRef","current","MAX_FOOD_WASTE_IN_TONS","MAX_UNDERNOURISHED_POPULATION","ZERO_HUNGER_POINT","STARVATION_INFO_CHART_D3_X_AXIS_ID","STARVATION_INFO_CHART_D3_Y_AXIS_ID","STARVATION_INFO_CHART_D3_BAR_CHART","StarvationInfoChart","foodWasteInTons","svg","name","domain","range","padding","nice","yAxisFunc","ticks","select","call","g","attr","tickSizeOuter","remove","selectAll","join","bandwidth","drawFoodWasteChart","id","useStyles","makeStyles","root","colorPrimary","marks","StarvationInfoVizController","setFoodWasteInTons","classes","Slider","min","step","max","onChange","event","newValue","StarvationInfoViz","StarvationInfo","image","maxWidth","CampaignInfoSlide","img","vw80","containerHeight","images","CampaignInfoSlider","enabled","slides","autoPlay","CampaignInfo","ServiceInfoText","SERVICE_INFO_VIZ_D3_CLIP_PATH_ID","ServiceInfoViz","foodRadius","center","clipOffDims","drag","on","maxRectWidth","minRectWidth","clipRect","newRectWidth","candidate","Number","parseInt","dx","cx","cy","r","strokeWidth","clipPath","wfpEmblem","Main","ServiceInfo","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.02750302.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/tmapLogo2.47e9b5d1.png\";","export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","export default __webpack_public_path__ + \"static/media/wfpStandardLogo.bedfca1a.svg\";","import {\n  useEffect,\n  useState\n} from 'react';\n\nexport const useWindowSize = () => {\n  const isClient = typeof window === 'object';\n\n  const getSize = () => ({\n    width: isClient ? window.innerWidth : undefined,\n    height: isClient ? window.innerHeight : undefined\n  });\n\n  const [windowSize, setWindowSize] = useState(getSize);\n\n  useEffect(() => {\n    if (!isClient)\n      return false;\n\n    const handleResize = () => {\n      setWindowSize(getSize());\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowSize;\n};\n","export const MIN_WINDOW_WIDTH_FOR_ROW_FLEX = 870;\nexport const MOBILE_WIDTH = 300;\n","// import tmapLogo from './tmapLogo.jpg'\nimport tmapLogo2 from './tmapLogo2.png'\nimport wfpStandardLogo from './wfpStandardLogo.svg';\nimport { useWindowSize } from '../../hooks/useWindowSize';\nimport { MIN_WINDOW_WIDTH_FOR_ROW_FLEX } from '../../container/constants'\n\nconst Header = () => {\n  const windowSize = useWindowSize();\n  const logoStyle = {\n    height: windowSize.width > MIN_WINDOW_WIDTH_FOR_ROW_FLEX ? 60 : 40\n  };\n\n  return (\n    <header className=\"App-header\">\n      <img src={tmapLogo2} alt=\"TMap Logo\" style={logoStyle} />\n      <span className=\"tab\">&#9;</span>\n      미식로드\n      <span className=\"tab\">&#9;</span>\n      <span className=\"tab\">&#9;</span>\n      <span className=\"tab\">&#9;</span>\n      <img src={wfpStandardLogo} alt=\"WFP Logo\" style={logoStyle} />\n    </header>\n  );\n};\n\n\nexport default Header;\n","const SimpleContainer = ({backgroundColor, color, children, flex, flexDirection}) =>\n  <div \n    className=\"section-container\" \n    style={{\n      backgroundColor,\n      color,\n      flex,\n      flexDirection\n    }}\n  >\n    {children}\n  </div>;\n\nexport default SimpleContainer;\n","import { useWindowSize } from '../hooks/useWindowSize';\nimport SimpleContainer from './SimpleContainer';\nimport { MIN_WINDOW_WIDTH_FOR_ROW_FLEX } from './constants';\n\nconst InfoContainer = ({backgroundColor, color, flex, left, right, flexLeft, flexRight}) => {\n  const size = useWindowSize();\n  const flexDirection = size.width > MIN_WINDOW_WIDTH_FOR_ROW_FLEX ? 'row' : 'column';\n\n  return (\n    <SimpleContainer backgroundColor={backgroundColor} flex={flex} flexDirection={flexDirection} color={color}>\n      <SimpleContainer flex={flexLeft}>\n        {left}\n      </SimpleContainer>\n      <SimpleContainer flex={flexRight}>\n        {right}\n      </SimpleContainer>\n    </SimpleContainer>\n  );\n}\n  \n\nexport default InfoContainer;\n","// import { useLongPress, LongPressDetectEvents } from 'use-long-press';\n\nconst HealthInfoArc = ({ isNotMobile, data, index, createArc, colors, format, onClick, onStart, onFinish }) => {\n  // const bind = useLongPress(onClick, {\n  //   onStart: () => { \n  //     console.log('started') \n  //     onStart()\n  //   },\n  //   onFinish: () => { \n  //     console.log(\"Long press finished\")\n  //     onFinish()\n  //   },\n  //   onCancel: () => { console.log(\"Press cancelled\") },\n  //   threshold: 500,\n  //   captureEvent: true,\n  //   detect: LongPressDetectEvents.BOTH\n  // })\n  // console.log(bind)\n  const fontSize = isNotMobile ? 20 : 10;\n\n  return (\n    <g key={index} className=\"arc\">\n      <path \n        className=\"arc\" \n        d={createArc(data)} \n        fill={colors(index)}\n        onClick={onClick}\n        opacity={0.75}\n        // {...bind}\n      />\n      <text\n        transform={`translate(${createArc.centroid(data)})`}\n        textAnchor=\"middle\"\n        alignmentBaseline=\"middle\"\n        fill=\"white\"\n        fontSize={fontSize}\n        fontWeight=\"bold\"\n        onClick={onClick}\n        // {...bind}\n      >\n        {data.data.label}{`: `}{format(data.value)}\n      </text>\n    </g>\n  );\n}\n  \n\nexport default HealthInfoArc;\n","export const MOBILE_WIDTH = 300;\n","export default __webpack_public_path__ + \"static/media/steak.c2f5d215.png\";","import { useState } from 'react';\nimport * as d3 from 'd3';\n\nimport { useWindowSize } from '../../hooks/useWindowSize';\nimport HealthInfoArc from './HealthInfoArc';\nimport { MIN_WINDOW_WIDTH_FOR_ROW_FLEX } from '../../container/constants';\nimport { MOBILE_WIDTH } from './constants';\n\nimport steak from './steak.png';\n\n// const center = { x: dims.width / 2 + 5, y: dims.height / 2 + 5 }\n\nconst HealthInfoViz = () => {\n  const windowSize = useWindowSize();\n  const reactiveSize = windowSize.width / 2; \n  const isNotMobile = windowSize.width > MIN_WINDOW_WIDTH_FOR_ROW_FLEX\n  const dims = isNotMobile ? {\n    height: reactiveSize,\n    width: reactiveSize,\n    pieRadius: reactiveSize / 3,\n    plateRadius: reactiveSize / 2\n  } : {\n    height: MOBILE_WIDTH,\n    width: MOBILE_WIDTH,\n    pieRadius: MOBILE_WIDTH / 3,\n    plateRadius: MOBILE_WIDTH / 2\n  };\n\n  const [dataList, setDataList] = useState([\n    {\n      label: '식사량',\n      value: 70\n    },\n    {\n      label: '건강',\n      value: 30\n    },\n  ]);\n  // const [pressed, setPressed] = useState(false);\n  // const onStart = () => { setPressed(true) }\n  // const onFinish = () => { setPressed(false) }\n\n  const createPie = d3\n    .pie()\n    .value(d => d.value)\n    .sort(null);\n\n  const createArc = d3\n    .arc()\n    .innerRadius(dims.pieRadius * 0.4)\n    .outerRadius(dims.pieRadius);\n\n  const colors = d3.scaleOrdinal(d3.schemeCategory10);\n  const format = d3.format('.2f');\n  const data = createPie(dataList);\n\n  const onClickArc = pieData => () => {\n    const canIncrease = ({ value }) => {\n      return value < 99\n    };\n    const canDecrease = ({ label, value }) => {\n      if (label === '식사량')\n        return value > 40\n      else\n        return value > 1\n    };\n\n    const [mealAmountObj, healthObj] = dataList;\n\n    if (pieData.data.label === '건강' && canIncrease(healthObj) && canDecrease(mealAmountObj)) {\n      setDataList([\n        {\n          ...mealAmountObj,\n          value: mealAmountObj.value - 1\n        },\n        {\n          ...healthObj,\n          value: healthObj.value + 1\n        },\n      ]);\n    } else if (pieData.data.label === '식사량' && canDecrease(healthObj) && canIncrease(mealAmountObj)) {\n      setDataList([\n        {\n          ...mealAmountObj,\n          value: mealAmountObj.value + 1\n        },\n        {\n          ...healthObj,\n          value: healthObj.value - 1\n        },\n      ]);\n    }\n    \n  }\n\n  return (\n    <svg width={dims.width} height={dims.height} style={{margin: 20}}>\n      <image xlinkHref={steak} x='0' y='0' width={dims.plateRadius * 2}/>\n      <g transform={`translate(${dims.width / 2} ${dims.height / 2})`}>\n        {data.map((d, i) => (\n          <HealthInfoArc \n            key={`health-info-arc-${i}`}\n            data={d}\n            index={i}\n            isNotMobile={isNotMobile}\n            createArc={createArc}\n            colors={colors}\n            format={format}\n            onClick={onClickArc(d)}\n            // onStart={onStart}\n            // onFinish={onFinish}\n          />\n        ))}\n      </g>\n    </svg>\n  );\n  // const d3Container = useRef(null);\n  // const [health, setHealth] = useState(30)\n\n  // useEffect(() => {\n  //   if (health && d3Container.current) {\n  //     const svg = d3.select(d3Container.current);\n\n  //     const graph = svg\n  //       .append('g')\n  //       .attr('transform', `translate(${center.x}, ${center.y})`)\n  //       // .selectAll('text')\n  //       // .data(health)\n\n  //     const pie = d3\n  //       .pie()\n  //       .sort(null)\n  //       .value(d => d)\n\n  //     const arcPath = d3\n  //       .arc()\n  //       .outerRadius(dims.radius)\n  //       .innerRadius(dims.radius / 2);\n\n  //     const update = data => {\n  //       const path = graph.selectAll('path').data(pie(data))\n\n  //       path\n  //         .enter()\n  //         .append('path')\n  //         .attr('class', 'arc')\n  //         .attr('d', arcPath)\n  //         .attr('stroke', 'black')\n  //         .attr('stroke-width', 3);\n  //     }\n\n  //     update(health)\n\n  //     // update.enter()\n  //     //   .append('text')\n  //     //   .attr('x', (d, i) => i * 25)\n  //     //   .attr('y', 40)\n  //     //   .style('font-size', 24)\n  //     //   .text(d => d)\n\n  //     // update\n  //     //   .attr('x', (d, i) => i * 40)\n  //     //   .text(d => d);\n\n  //     // update.exit()\n  //     //   .remove();\n  //   }\n  // }, [health, d3Container.current])\n\n  // return (\n  //   <svg \n  //     width={200}\n  //     height={200}\n  //     ref={d3Container}\n  //   />\n  // );\n};\n\nexport default HealthInfoViz;\n","import { useWindowSize } from '../../hooks/useWindowSize';\nimport {\n  MIN_WINDOW_WIDTH_FOR_ROW_FLEX\n} from '../../container/constants'\n\nconst HealthInfoText = () => {\n  const windowSize = useWindowSize();\n  const isNotMobile = windowSize.width > MIN_WINDOW_WIDTH_FOR_ROW_FLEX;\n  const textFontSize = isNotMobile ? 30 : 16\n  const titleFontSize = textFontSize * 1.5\n\n  return (\n    <div style={{display: 'flex', flexDirection: 'column', margin: 20}}>\n      <h2 className=\"dohyeon-font-text\" style={{marginBottom: 0, fontSize: titleFontSize}}>그 소식 들으셨어요?</h2>\n      <h2 className=\"dohyeon-font-text\" style={{marginTop: 0, fontSize: titleFontSize}}>소식(少食)하면… 건강해진대요!</h2>\n      <p className=\"jua-font-text\" style={{fontSize: textFontSize}}>미국 위스콘신대학교 매디슨 캠퍼스 연구팀과 미국국립노화연구소 연구팀은 열량 섭취를 제한함으로써 더 건강하게 장수를 누릴 수 있는 방법이라고 발표했습니다. 하지만 잦은 외식을 하다 보면 메뉴의 정량 때문에 의도치 않게 많은 음식을 먹거나 음식을 남기는 경우가 있는데요.</p>\n      <p className=\"jua-font-text\" style={{fontSize: textFontSize}}>결국 본인의 식사량보다 많은 음식을 구매하면서, 장기적으로 건강까지 해치는 꼴이 되는 겁니다.</p>\n    </div>\n  );\n};\n\nexport default HealthInfoText;\n","import InfoContainer from '../../container/InfoContainer';\nimport HealthInfoViz from './HealthInfoViz'\nimport HealthInfoText from './HealthInfoText'\n\nconst HealthInfo = () =>\n  <InfoContainer \n    backgroundColor={'white'}\n    flex={1}\n    left={<HealthInfoViz />}\n    right={<HealthInfoText />}\n    flexLeft={1}\n    flexRight={1}\n  />;\n\nexport default HealthInfo;\n","import { useWindowSize } from '../../hooks/useWindowSize';\nimport {\n  MIN_WINDOW_WIDTH_FOR_ROW_FLEX\n} from '../../container/constants'\n\nconst StarvationInfoText = () => {\n  const windowSize = useWindowSize();\n  const isNotMobile = windowSize.width > MIN_WINDOW_WIDTH_FOR_ROW_FLEX;\n  const textFontSize = isNotMobile ? 30 : 16\n  const titleFontSize = textFontSize * 1.5\n\n  return (\n    <div style={{display: 'flex', flexDirection: 'column', margin: 20}}>\n      <h2 className=\"dohyeon-font-text\" style={{marginBottom: 0, fontSize: titleFontSize}}>그 소식 들으셨어요?</h2>\n      <h2 className=\"dohyeon-font-text\" style={{marginTop: 0, fontSize: titleFontSize}}>소식(少食)하면… 누군가는 배고픔을 해결할 수 있대요!</h2>\n      <p className=\"jua-font-text\" style={{fontSize: textFontSize}}>지구에 현재 전 세계의 모든 사람들이 먹을 수 있는 만큼의 충분한 음식이 있다는 사실을 아시나요? 하지만 전체 음식의 1/3 정도의 양은 섭취되지 못한 채 버려지거나, 운송/보관 과정에서 썩는다고 합니다.</p>\n      <p className=\"jua-font-text\" style={{fontSize: textFontSize}}>충분한 음식이 있는데도 불구하고 전세계 약 7억 명의 사람들이 굶주린 채 하루를 마무리하는 것입니다.</p>\n    </div>\n  );\n};\n\nexport default StarvationInfoText;\n\n","import { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\n\nexport const useD3 = (renderChartFn, dependencies) => {\n  const ref = useRef();\n\n  useEffect(() => {\n    renderChartFn(d3.select(ref.current));\n    return () => {};\n  }, dependencies);\n\n  return ref;\n};\n","export const MAX_FOOD_WASTE_IN_TONS = 1300000000;\nexport const MAX_UNDERNOURISHED_POPULATION = 800000000;\nexport const FOOD_NEEDED_BY_INDIVIDUAL = MAX_FOOD_WASTE_IN_TONS / 4 / MAX_UNDERNOURISHED_POPULATION;\nexport const ZERO_HUNGER_POINT = MAX_FOOD_WASTE_IN_TONS / 4 * 3\n","import * as d3 from 'd3';\nimport { useD3 } from '../../hooks/useD3';\nimport { useWindowSize } from '../../hooks/useWindowSize';\nimport {\n  FOOD_NEEDED_BY_INDIVIDUAL,\n  MAX_FOOD_WASTE_IN_TONS,\n  MAX_UNDERNOURISHED_POPULATION,\n  ZERO_HUNGER_POINT,\n} from './constants';\nimport {\n  MIN_WINDOW_WIDTH_FOR_ROW_FLEX,\n  MOBILE_WIDTH\n} from '../../container/constants';\n\nconst STARVATION_INFO_CHART_D3_X_AXIS_ID = 'starvation-info-chart-d3-x-axis';\nconst STARVATION_INFO_CHART_D3_Y_AXIS_ID = 'starvation-info-chart-d3-y-axis';\nconst STARVATION_INFO_CHART_D3_BAR_CHART = 'starvation-info-chart-d3-bar-chart';\n\n// const DEFAULT_DIMS = { height: 300, width: 600, radius: 150};\nconst margin = ({top: 30, right: 0, bottom: 30, left: 80});\n// const graphWidth = dims.width - margin.left - margin.right;\n// const graphHeight = dims.height - margin.top - margin.bottom;\n\nconst StarvationInfoChart = ({ foodWasteInTons }) => {\n  const windowSize = useWindowSize();\n  const reactiveSize = windowSize.width / 2 - 100\n  const isNotMobile = windowSize.width > MIN_WINDOW_WIDTH_FOR_ROW_FLEX;\n  const dims = isNotMobile ? {\n    height: reactiveSize * 0.75,\n    width: reactiveSize,\n  } : {\n    height: MOBILE_WIDTH * 0.75,\n    width: MOBILE_WIDTH\n  }\n\n  const drawFoodWasteChart = (svg) => {\n    const undernourishedPopulation = foodWasteInTons > ZERO_HUNGER_POINT ? \n      MAX_UNDERNOURISHED_POPULATION - ((MAX_FOOD_WASTE_IN_TONS - foodWasteInTons) / FOOD_NEEDED_BY_INDIVIDUAL) :\n      0;\n    const surplusFood = foodWasteInTons > ZERO_HUNGER_POINT ? 0 : ZERO_HUNGER_POINT - foodWasteInTons;\n    const data = [\n      {\n        name: '음식물 쓰레기 양',\n        value: foodWasteInTons,\n        color: 'orange'\n      },\n      {\n        name: '굶주린 사람들',\n        value: undernourishedPopulation,\n        color: 'gray'\n      },\n      {\n        name: '남는 식량',\n        value: surplusFood,\n        color: 'green'\n      }\n    ];\n\n    const x = d3.scaleBand()\n      .domain((data.map(d => d.name)))\n      .range([margin.left, dims.width - margin.right])\n      .padding(0.2);\n\n    const y = d3.scaleLinear()\n      .domain([0, MAX_FOOD_WASTE_IN_TONS + 100000000])\n      .nice()\n      .range([dims.height - margin.bottom, margin.top])\n\n    const xAxis = g => g\n      .attr('transform', `translate(0, ${dims.height - margin.bottom})`)\n      .call(d3.axisBottom(x).tickSizeOuter(0))\n\n    const yAxisFunc = isNotMobile ? d3.axisLeft(y) : d3.axisLeft(y).ticks(7, 'f')\n    const yAxis = g => g\n      .attr('transform', `translate(${margin.left}, 0)`)\n      .call(yAxisFunc)\n      .call(g => g.select('.domain').remove());\n\n\n    svg.select(`#${STARVATION_INFO_CHART_D3_X_AXIS_ID}`).call(xAxis);\n    svg.select(`#${STARVATION_INFO_CHART_D3_Y_AXIS_ID}`).call(yAxis);\n    \n    svg.select(`#${STARVATION_INFO_CHART_D3_BAR_CHART}`)\n      // .selectAll('rect').data(data).enter().append('rect')\n      .selectAll('.bar')\n      .data(data)\n      .join('rect')\n      .attr('class', 'bar')\n      .attr('fill', d => d.color)\n      .attr('x', d => x(d.name))\n      .attr('y', d => y(d.value))\n      .attr('height', d => y(0) - y(d.value))\n      .attr('width', x.bandwidth());\n  };\n\n  const ref = useD3(\n    (svg) => {\n      drawFoodWasteChart(svg);\n    },\n    [foodWasteInTons, windowSize.width]\n  );\n\n  return (\n    <div>\n      <svg ref={ref} width={dims.width} height={dims.height}>\n        <g id={STARVATION_INFO_CHART_D3_X_AXIS_ID}></g>\n        <g id={STARVATION_INFO_CHART_D3_Y_AXIS_ID}></g>\n        <g id={STARVATION_INFO_CHART_D3_BAR_CHART}></g>\n      </svg>\n    </div>\n  );\n};\n\nexport default StarvationInfoChart;\n","import Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { MAX_FOOD_WASTE_IN_TONS } from './constants';\n\nconst useStyles = makeStyles({\n  root: {\n    color: 'white',\n    colorPrimary: 'white',\n  },\n})\n\nconst marks = [\n  {\n    value: 0,\n    label: '0T'\n  },\n  {\n    value: MAX_FOOD_WASTE_IN_TONS,\n    label: '1.3T'\n  }\n];\n\nconst StarvationInfoVizController = ({ foodWasteInTons, setFoodWasteInTons }) => {\n  const classes = useStyles();\n  const handleChange = (event, newValue) => {\n    setFoodWasteInTons(newValue);\n  };\n\n  return (\n    <Slider \n      className={classes.root}\n      value={foodWasteInTons}\n      min={0}\n      step={1}\n      max={MAX_FOOD_WASTE_IN_TONS}\n      marks={marks}\n      onChange={handleChange}\n    />\n  );\n};\n\nexport default StarvationInfoVizController;\n\n","import { useState } from 'react';\nimport StarvationInfoChart from './StarvationInfoChart';\nimport StarvationInfoVizController from './StarvationInfoVizController';\n\nconst StarvationInfoViz = () => {\n  const [foodWasteInTons, setFoodWasteInTons] = useState(1300000000);\n\n  return (\n    <div>\n      \n      <StarvationInfoChart foodWasteInTons={foodWasteInTons} />\n      <StarvationInfoVizController\n        foodWasteInTons={foodWasteInTons}\n        setFoodWasteInTons={setFoodWasteInTons}\n      />\n    </div>\n    \n  );\n};\n\nexport default StarvationInfoViz;\n","import InfoContainer from '../../container/InfoContainer';\nimport StarvationInfoText from './StarvationInfoText';\nimport StarvationInfoViz from './StarvationInfoViz';\n\nconst StarvationInfo = () =>\n  <InfoContainer \n    backgroundColor={'#ea002c'}\n    color={'white'}\n    flex={1}\n    left={<StarvationInfoText />}\n    right={<StarvationInfoViz />}\n  />;\n\nexport default StarvationInfo;\n","import { makeStyles } from '@material-ui/styles';\nimport { useWindowSize } from '../../hooks/useWindowSize';\n\nconst useStyles = makeStyles({\n  image: {\n    maxWidth: '800px',\n    width: '80vw',\n    // height: ''\n  }\n});\n\nconst CampaignInfoSlide = ({ img }) => {\n  const classes = useStyles();\n  const windowSize = useWindowSize();\n  const vw80 = windowSize.width * 0.8;\n  const containerHeight = vw80 > 800 ? 800 : vw80\n\n  return (\n    <div style={{height: containerHeight}}>\n      <img \n        className={classes.image} \n        src={img} \n        alt={'A card news slide'} \n      />\n    </div>\n    \n  );\n}\n\nexport default CampaignInfoSlide;\n","import Carousel from 'react-material-ui-carousel';\nimport SimpleContainer from '../../container/SimpleContainer';\nimport CampaignInfoSlide from './CampaignInfoSlide';\n\nimport cardNews1 from './cardNews1.png'\nimport cardNews2 from './cardNews2.png'\nimport cardNews3 from './cardNews3.png'\nimport cardNews4 from './cardNews4.png'\nimport cardNews5 from './cardNews5.png'\n\nconst images = [\n  cardNews1,\n  cardNews2,\n  cardNews3,\n  cardNews4,\n  cardNews5\n];\n\nconst CampaignInfoSlider = ({ enabled }) => {\n  const slides = images.map((img, i) => \n    <CampaignInfoSlide \n      key={`campaign-info-slide-${i}`} \n      img={img} \n    />)\n\n  if (enabled)\n    return (\n      <Carousel\n        autoPlay={false}\n      >\n        {slides}     \n      </Carousel>\n    );\n  else\n    return (\n      <SimpleContainer flex={1} flexDirection={'column'}>\n        {slides}\n      </SimpleContainer>\n    );\n}\n\nexport default CampaignInfoSlider;\n","export default __webpack_public_path__ + \"static/media/cardNews1.73074dc8.png\";","export default __webpack_public_path__ + \"static/media/cardNews2.79b4f128.png\";","export default __webpack_public_path__ + \"static/media/cardNews3.3745e11d.png\";","export default __webpack_public_path__ + \"static/media/cardNews4.6e0a77ac.png\";","export default __webpack_public_path__ + \"static/media/cardNews5.1ec577ce.png\";","import SimpleContainer from '../../container/SimpleContainer';\nimport CampaignInfoSlider from './CampaignInfoSlider';\n\nconst CampaignInfo = () =>\n  <SimpleContainer flex={1}>\n    <CampaignInfoSlider enabled={true} />\n  </SimpleContainer>;\n\nexport default CampaignInfo;\n","const ServiceInfoText = () => {\n  return (\n    <div>service info text</div>\n  );\n};\n\nexport default ServiceInfoText;\n","export default __webpack_public_path__ + \"static/media/wfp-logo-emblem-white.e404a606.svg\";","export default __webpack_public_path__ + \"static/media/office.2921dc25.svg\";","import * as d3 from 'd3';\n\nimport { useD3 } from '../../hooks/useD3';\nimport { useWindowSize } from '../../hooks/useWindowSize';\nimport {\n  MIN_WINDOW_WIDTH_FOR_ROW_FLEX,\n  MOBILE_WIDTH\n} from '../../container/constants';\nimport office from './office.svg';\nimport wfpEmblem from './wfp-logo-emblem-white.svg';\n\nconst SERVICE_INFO_VIZ_D3_CLIP_PATH_ID = 'service-info-viz-d3-clip-path-id';\n\nconst ServiceInfoViz = () => {\n  const windowSize = useWindowSize();\n  const reactiveSize = windowSize.width / 2 - 100\n  const isNotMobile = windowSize.width > MIN_WINDOW_WIDTH_FOR_ROW_FLEX;\n  const dims = isNotMobile ? {\n    height: reactiveSize * 0.75,\n    width: reactiveSize,\n  } : {\n    height: MOBILE_WIDTH * 0.75,\n    width: MOBILE_WIDTH\n  }\n  \n  const plateRadius = dims.width / 6;\n  const foodRadius = plateRadius * 0.75;\n\n  const center = {\n    x: plateRadius,\n    y: dims.height / 2\n  };\n  \n  const clipOffDims = {\n    x: center.x - foodRadius,\n    y: center.y - foodRadius,\n    height: foodRadius * 2,\n    width: foodRadius * 2 * 0.65\n  };\n\n  const ref = useD3(\n    (svg) => {\n\n      const onDrag = (event) => {\n        const maxRectWidth = foodRadius * 2;\n        const minRectWidth = foodRadius * 2 * 0.65\n    \n        const clipRect = svg.select(`#${SERVICE_INFO_VIZ_D3_CLIP_PATH_ID} rect`);\n        \n        let newRectWidth = 0;\n        const candidate = Number.parseInt(clipRect.attr('width'), 10) + event.dx;\n        if (candidate > maxRectWidth) \n          newRectWidth = maxRectWidth;\n        else if (candidate < minRectWidth)\n          newRectWidth = minRectWidth\n        else\n          newRectWidth = candidate          \n\n        clipRect.attr('width', newRectWidth)\n      };\n\n      const drag = d3.drag()\n        .on(\"drag\", onDrag);\n\n      svg.select(`#food`).call(drag);\n    },\n    [windowSize.width]\n  );\n    \n  return (\n    <div>\n      <svg ref={ref} width={dims.width} height={dims.height}>\n        <defs>\n          <clipPath id={SERVICE_INFO_VIZ_D3_CLIP_PATH_ID}>\n            <rect x={clipOffDims.x} y={clipOffDims.y} height={clipOffDims.height} width={clipOffDims.width} />\n          </clipPath>\n        </defs>\n\n        <circle id='plate' cx={center.x} cy={center.y} r={plateRadius} strokeWidth='0' fill='white' />\n        <circle id='food' cx={center.x} cy={center.y} r={foodRadius} strokeWidth='0' fill='orange' clipPath={`url(#${SERVICE_INFO_VIZ_D3_CLIP_PATH_ID})`} />\n\n        {/* <image\n          xlinkHref={office}\n          x='200'\n          y='0'\n          width='200'\n        /> */}\n        <image\n          xlinkHref={wfpEmblem}\n          x='200'\n          y={dims.height / 2}\n          width='200'\n        />\n      </svg>\n    </div> \n  );\n};\n\nexport default ServiceInfoViz;\n","import InfoContainer from '../../container/InfoContainer';\nimport ServiceInfoText from './ServiceInfoText';\nimport ServiceInfoViz from './ServiceInfoViz';\n\nconst StarvationInfo = () =>\n  <InfoContainer \n    backgroundColor={'#ea002c'}\n    color={'white'}\n    flex={1}\n    left={<ServiceInfoText />}\n    right={<ServiceInfoViz />}\n  />;\n\nexport default StarvationInfo;\n","import Header from '../component/Header';\nimport HealthInfo from '../component/HealthInfo';\nimport StarvationInfo from '../component/StarvationInfo';\nimport CampaignInfo from '../component/CampaignInfo';\nimport ServiceInfo from '../component/ServiceInfo';\n\nconst Main = () =>\n  <div>\n    <Header />\n    <div className=\"page-container\">\n      <HealthInfo />\n      <StarvationInfo />\n      <CampaignInfo />\n      <ServiceInfo />\n    </div>\n  </div>;\n\nexport default Main;\n","import logo from './logo.svg';\nimport './App.css';\nimport Main from './container/Main';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Main />\n      {/* <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header> */}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}