(this["webpackJsonptasty-road-wfp"]=this["webpackJsonptasty-road-wfp"]||[]).push([[0],{183:function(t,e,n){},184:function(t,e,n){},203:function(t,e,n){"use strict";n.r(e);var c=n(2),i=n(0),a=n.n(i),r=n(13),o=n.n(r),s=(n(183),n.p,n(184),n.p+"static/media/tmapLogo2.47e9b5d1.png"),l=n.p+"static/media/wfpStandardLogo.bedfca1a.svg",d=n(16),h=function(){var t="object"===typeof window,e=function(){return{width:t?window.innerWidth:void 0,height:t?window.innerHeight:void 0}},n=Object(i.useState)(e),c=Object(d.a)(n,2),a=c[0],r=c[1];return Object(i.useEffect)((function(){if(!t)return!1;var n=function(){r(e())};return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),a},u=870,j=300,f=function(){var t={height:h().width>u?60:40};return Object(c.jsxs)("header",{className:"App-header",children:[Object(c.jsx)("img",{src:s,alt:"TMap Logo",style:t}),Object(c.jsx)("span",{className:"tab",children:" "}),"\ubbf8\uc2dd\ub85c\ub4dc",Object(c.jsx)("span",{className:"tab",children:" "}),Object(c.jsx)("span",{className:"tab",children:" "}),Object(c.jsx)("span",{className:"tab",children:" "}),Object(c.jsx)("img",{src:l,alt:"WFP Logo",style:t})]})},b=function(t){var e=t.backgroundColor,n=t.color,i=t.children,a=t.flex,r=t.flexDirection;return Object(c.jsx)("div",{className:"section-container",style:{backgroundColor:e,color:n,flex:a,flexDirection:r},children:i})},x=function(t){var e=t.backgroundColor,n=t.color,i=t.flex,a=t.left,r=t.right,o=t.flexLeft,s=t.flexRight,l=h().width>u?"row":"column";return Object(c.jsxs)(b,{backgroundColor:e,flex:i,flexDirection:l,color:n,children:[Object(c.jsx)(b,{flex:o,children:a}),Object(c.jsx)(b,{flex:s,children:r})]})},O=n(18),g=n(9),v=function(t){var e=t.data,n=t.index,i=t.createArc,a=t.colors,r=t.format,o=t.onClick;t.onStart,t.onFinish;return Object(c.jsxs)("g",{className:"arc",children:[Object(c.jsx)("path",{className:"arc",d:i(e),fill:a(n),onClick:o}),Object(c.jsxs)("text",{transform:"translate(".concat(i.centroid(e),")"),textAnchor:"middle",alignmentBaseline:"middle",fill:"white",fontSize:"10",fontWeight:"bold",onClick:o,children:[e.data.label,": ",r(e.value)]})]},n)},w=function(){var t=h(),e=t.width/2-100,n=t.width>u?{height:e,width:e,radius:e/2}:{height:300,width:300,radius:150},a=Object(i.useState)([{label:"\uc2dd\uc0ac\ub7c9",value:70},{label:"\uac74\uac15",value:30}]),r=Object(d.a)(a,2),o=r[0],s=r[1],l=g.f().value((function(t){return t.value})).sort(null),j=g.a().innerRadius(.4*n.radius).outerRadius(n.radius),f=g.i(g.j),b=g.e(".2f"),x=l(o);return Object(c.jsx)("svg",{width:n.width,height:n.height,children:Object(c.jsx)("g",{transform:"translate(".concat(n.radius," ").concat(n.radius,")"),children:x.map((function(t,e){return Object(c.jsx)(v,{data:t,index:e,createArc:j,colors:f,format:b,onClick:(n=t,function(){var t=function(t){return t.value<99},e=function(t){var e=t.label,n=t.value;return"\uc2dd\uc0ac\ub7c9"===e?n>40:n>1},c=Object(d.a)(o,2),i=c[0],a=c[1];"\uac74\uac15"===n.data.label&&t(a)&&e(i)?s([Object(O.a)(Object(O.a)({},i),{},{value:i.value-1}),Object(O.a)(Object(O.a)({},a),{},{value:a.value+1})]):"\uc2dd\uc0ac\ub7c9"===n.data.label&&e(a)&&t(i)&&s([Object(O.a)(Object(O.a)({},i),{},{value:i.value+1}),Object(O.a)(Object(O.a)({},a),{},{value:a.value-1})])})},"health-info-arc-".concat(e));var n}))})})},m=function(){return Object(c.jsx)("div",{children:"health info text"})},p=function(){return Object(c.jsx)(x,{backgroundColor:"white",flex:1,left:Object(c.jsx)(w,{}),right:Object(c.jsx)(m,{}),flexLeft:1,flexRight:1})},y=function(){return Object(c.jsx)("div",{children:"starvation info text"})},k=function(t,e){var n=Object(i.useRef)();return Object(i.useEffect)((function(){return t(g.k(n.current)),function(){}}),e),n},N=13e8,C=8e8,W=975e6,T="starvation-info-chart-d3-x-axis",L="starvation-info-chart-d3-y-axis",I="starvation-info-chart-d3-bar-chart",S=30,F=0,A=30,P=80,z=function(t){var e=t.foodWasteInTons,n=h(),i=n.width/2-100,a=n.width>u,r=a?{height:.75*i,width:i}:{height:225,width:j},o=k((function(t){!function(t){var n=[{name:"\uc74c\uc2dd\ubb3c \uc4f0\ub808\uae30 \uc591",value:e,color:"orange"},{name:"\uad76\uc8fc\ub9b0 \uc0ac\ub78c\ub4e4",value:e>W?C-(N-e)/.40625:0,color:"gray"},{name:"\ub0a8\ub294 \uc2dd\ub7c9",value:e>W?0:W-e,color:"green"}],c=g.g().domain(n.map((function(t){return t.name}))).range([P,r.width-F]).padding(.2),i=g.h().domain([0,14e8]).nice().range([r.height-A,S]),o=a?g.c(i):g.c(i).ticks(7,"f");t.select("#".concat(T)).call((function(t){return t.attr("transform","translate(0, ".concat(r.height-A,")")).call(g.b(c).tickSizeOuter(0))})),t.select("#".concat(L)).call((function(t){return t.attr("transform","translate(".concat(P,", 0)")).call(o).call((function(t){return t.select(".domain").remove()}))})),t.select("#".concat(I)).selectAll(".bar").data(n).join("rect").attr("class","bar").attr("fill",(function(t){return t.color})).attr("x",(function(t){return c(t.name)})).attr("y",(function(t){return i(t.value)})).attr("height",(function(t){return i(0)-i(t.value)})).attr("width",c.bandwidth())}(t)}),[e,n.width]);return Object(c.jsx)("div",{children:Object(c.jsxs)("svg",{ref:o,width:r.width,height:r.height,children:[Object(c.jsx)("g",{id:T}),Object(c.jsx)("g",{id:L}),Object(c.jsx)("g",{id:I})]})})},D=n(222),E=n(94),R=Object(E.a)({root:{color:"white",colorPrimary:"white"}}),B=[{value:0,label:"0T"},{value:N,label:"1.3T"}],J=function(t){var e=t.foodWasteInTons,n=t.setFoodWasteInTons,i=R();return Object(c.jsx)(D.a,{className:i.root,value:e,min:0,step:1,max:N,marks:B,onChange:function(t,e){n(e)}})},M=function(){var t=Object(i.useState)(13e8),e=Object(d.a)(t,2),n=e[0],a=e[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)(z,{foodWasteInTons:n}),Object(c.jsx)(J,{foodWasteInTons:n,setFoodWasteInTons:a})]})},H=function(){return Object(c.jsx)(x,{backgroundColor:"#ea002c",color:"white",flex:1,left:Object(c.jsx)(y,{}),right:Object(c.jsx)(M,{})})},q=n(97),G=n.n(q),K=n(210),Q=Object(K.a)({image:{maxWidth:"800px",width:"80vw"}}),U=function(t){var e=t.img,n=Q(),i=.8*h().width,a=i>800?800:i;return Object(c.jsx)("div",{style:{height:a},children:Object(c.jsx)("img",{className:n.image,src:e,alt:"A card news slide"})})},V=[n.p+"static/media/cardNews1.73074dc8.png",n.p+"static/media/cardNews2.79b4f128.png",n.p+"static/media/cardNews3.3745e11d.png",n.p+"static/media/cardNews4.6e0a77ac.png",n.p+"static/media/cardNews5.1ec577ce.png"],X=function(t){var e=t.enabled,n=V.map((function(t,e){return Object(c.jsx)(U,{img:t},"campaign-info-slide-".concat(e))}));return e?Object(c.jsx)(G.a,{autoPlay:!1,children:n}):Object(c.jsx)(b,{flex:1,flexDirection:"column",children:n})},Y=function(){return Object(c.jsx)(b,{flex:1,children:Object(c.jsx)(X,{enabled:!0})})},Z=function(){return Object(c.jsx)("div",{children:"service info text"})},$="service-info-viz-d3-clip-path-id",_=function(){var t=h(),e=t.width/2-100,n=t.width>u?{height:.75*e,width:e}:{height:225,width:j},i=n.width/6,a=.75*i,r={x:i,y:n.height/2},o={x:r.x-a,y:r.y-a,height:2*a,width:2*a*.65},s=k((function(t){var e=g.d().on("drag",(function(t){var e=2*a,n=2*a*.65,c=g.k("#".concat($," rect")),i=0,r=Number.parseInt(c.attr("width"),10)+t.dx;i=r>e?e:r<n?n:r,c.attr("width",i)}));t.call(e)}),[t.width]);return Object(c.jsx)("div",{children:Object(c.jsxs)("svg",{ref:s,width:n.width,height:n.height,children:[Object(c.jsx)("defs",{children:Object(c.jsx)("clipPath",{id:$,children:Object(c.jsx)("rect",{x:o.x,y:o.y,height:o.height,width:o.width})})}),Object(c.jsx)("circle",{id:"plate",cx:r.x,cy:r.y,r:i,strokeWidth:"0",fill:"white"}),Object(c.jsx)("circle",{id:"food",cx:r.x,cy:r.y,r:a,strokeWidth:"0",fill:"orange",clipPath:"url(#".concat($,")")})]})})},tt=function(){return Object(c.jsx)(x,{backgroundColor:"#ea002c",color:"white",flex:1,left:Object(c.jsx)(Z,{}),right:Object(c.jsx)(_,{})})},et=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(f,{}),Object(c.jsxs)("div",{className:"page-container",children:[Object(c.jsx)(p,{}),Object(c.jsx)(H,{}),Object(c.jsx)(Y,{}),Object(c.jsx)(tt,{})]})]})};var nt=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(et,{})})},ct=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,224)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,a=e.getLCP,r=e.getTTFB;n(t),c(t),i(t),a(t),r(t)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(nt,{})}),document.getElementById("root")),ct()}},[[203,1,2]]]);
//# sourceMappingURL=main.bd2feeef.chunk.js.map